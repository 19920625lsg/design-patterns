# 建造者模式

## 定义
> 将一个复杂对象的构建和它的表示分开，使得同样的构建过程可以创建不同的表示

> 用户只需要指定需要建造的类型就可以得到它们，建造过程即细节不需要知道

## 类型
创建型

## 适用场景
+ 如果一个对象有非常复杂的内部结构(很多属性)
+ 想把复杂对象的创建和使用分离

## 优点
+ 封装性好，创建和使用分离
+ 扩展性好，建造类之间独立，一定程度上解耦

## 缺点
+ 产生多余的Builder对象
+ 产品内部发生变化，建造者都要修改，成本较大

## 建造者模式与工厂模式的区别
+ 1、建造者模式更注重于方法的调用顺序、工厂模式注重于创建产品
+ 2、创建对象的力度不同：建造者模式可以创建一些复杂的产品，由各种复杂的部件组成；工厂模式常见出来都是一个样子
+ 3、关注点不同：工厂模式是将产品创建出来即可；建造者模式不仅要将产品创建出来，而且要知道产品由哪些部件组成
+ 4、顺序：工厂不关注顺序；建造者模式顺序不一致，产出的产品可能不一样

## 链式调用地典型应用
> 链式调用的最典型的建造者模式的使用，链式调用地最后一定是build()方法来返回想要的类的实例
+ StringBuilder每次append后都会返给当前的StringBuilder对象
+ StringBuffer每次append后都会返给当前的StringBuffer对象
+ ImmutableSet
+ Guava中的CacheBuilder
+ Spring中的BeanDefinitionBuilder
+ MyBatis中的SqlSessionFactoryBuilder、XMLConfigBuilder